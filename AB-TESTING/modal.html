<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Title</title>

    <script type="text/javascript" src="https://static.parastorage.com/services/js-platform-editor-sdk/1.109.0/lib/editorSDK.min.js"></script>
  </head>
  <body>
    <!--<div class="header">-->
      <!--<div class="header-inner" onclick="show(1)">A</div>-->
      <!--<div class="header-inner" onclick="show(2)">B</div>-->
    <!--</div>-->

    <div class="main">
      <div>
        <span class="letter">A</span>
        <input type="range" class="range" min="0" max="100", step="10" onchange="onChange(this.value)">
        <span class="letter">B</span>
      </div>
    </div>

  </body>
</html>

<script>
    let currentVarient;
    let componentRef;
    editorSDK.panel.onEvent(async event => {
        switch (event.eventType) {
            case 'startConfiguration':
                componentRef = event.eventPayload.initialData.componentRef
        }
    });
    async  function onChange(val) {
        const connections = await  editorSDK.controllers.listConnections('token', {componentRef});
        const connection = connections[0];
        editorSDK.controllers.connect('token', {
            controllerRef: connection.controllerRef,
            connectToRef: componentRef,
            role: connection.role,
            isPrimary: true,
            connectionConfig: {precent: val}
        });
    }
    function show(varient) {
        currentVarient = varient;
    }
</script>

<style>
  .range {
    width: 70%

  }
  .header {
    display: flex;
    width: 100%;
    background: lightblue;
    height: 100px;
  }

  .header-inner {
    flex: 1;
    line-height: 100px;
    font-size: 40px;
    text-align: center;
    border-right: 1px solid gray;
  }

  .letter {
    font-size: 30px;
  }

  body {
    margin: 0;
    text-align: center;
  }
</style>
