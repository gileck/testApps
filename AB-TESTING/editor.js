const BOX_SLIDE_SHOW = {
    "type": "Container",
    "components": [
        {
            "type": "Container",
            "components": [
                {
                    "type": "Container",
                    "components": [
                        {
                            "type": "Container",
                            "components": [],
                            "skin": "wysiwyg.viewer.skins.area.DefaultAreaSkin",
                            "layout": {
                                "width": 245,
                                "height": 24,
                                "x": 123,
                                "y": 196,
                                "scale": 1,
                                "rotationInDegrees": 0,
                                "fixedPosition": false
                            },
                            "componentType": "mobile.core.components.Container",
                            "mobileHints": {
                                "type": "MobileHints",
                                "author": "studio",
                                "recommendedScale": 1,
                                "recommendedWidth": 206,
                                "recommendedHeight": 28
                            },
                            "style": {
                                "type": "TopLevelStyle",
                                "metaData": {
                                    "isPreset": false,
                                    "schemaVersion": "1.0",
                                    "isHidden": false
                                },
                                "style": {
                                    "properties": {
                                        "alpha-bg": "1",
                                        "alpha-brd": "1",
                                        "bg": "#DEBCB1",
                                        "boxShadowToggleOn-shd": "false",
                                        "brd": "#2F2E2E",
                                        "brw": "0",
                                        "rd": "0px",
                                        "shd": "0px 1px 4px 0px rgba(0,0,0,0.6)"
                                    },
                                    "propertiesSource": {
                                        "alpha-bg": "value",
                                        "bg": "value",
                                        "brd": "value",
                                        "brw": "value",
                                        "rd": "value",
                                        "shd": "value"
                                    },
                                    "groups": {}
                                },
                                "componentClassName": "mobile.core.components.Container",
                                "pageId": "",
                                "compId": "",
                                "styleType": "custom",
                                "skin": "wysiwyg.viewer.skins.area.DefaultAreaSkin"
                            },
                            "connections": {
                                "type": "ConnectionList",
                                "items": [
                                    {
                                        "type": "WixCodeConnectionItem",
                                        "role": "box11"
                                    }
                                ]
                            }
                        },
                        {
                            "type": "Component",
                            "skin": "wysiwyg.viewer.skins.button.BasicButton",
                            "layout": {
                                "width": 207,
                                "height": 46,
                                "x": 146,
                                "y": 287,
                                "scale": 1,
                                "rotationInDegrees": 0,
                                "fixedPosition": false
                            },
                            "componentType": "wysiwyg.viewer.components.SiteButton",
                            "data": {
                                "type": "LinkableButton",
                                "metaData": {
                                    "isPreset": false,
                                    "schemaVersion": "1.0",
                                    "isHidden": false
                                },
                                "label": "SHOP NOW"
                            },
                            "props": {
                                "type": "ButtonProperties",
                                "metaData": {
                                    "schemaVersion": "1.0"
                                },
                                "align": "center",
                                "margin": 0
                            },
                            "mobileHints": {
                                "type": "MobileHints",
                                "author": "studio",
                                "recommendedScale": 0.90702945,
                                "recommendedWidth": 135,
                                "recommendedHeight": 35
                            },
                            "style": {
                                "type": "TopLevelStyle",
                                "metaData": {
                                    "isPreset": false,
                                    "schemaVersion": "1.0",
                                    "isHidden": false
                                },
                                "style": {
                                    "properties": {
                                        "alpha-bg": "1",
                                        "alpha-bgh": "1",
                                        "alpha-brd": "1",
                                        "alpha-brdh": "1",
                                        "bg": "#DEBCB1",
                                        "bgh": "#000000",
                                        "boxShadowToggleOn-shd": "false",
                                        "brd": "#000000",
                                        "brdh": "#2F2E2E",
                                        "brw": "2",
                                        "fnt": "normal normal normal 14px/1.4em poppins-semibold",
                                        "rd": "0",
                                        "shd": "0px 1px 4px 0px rgba(0,0,0,0.6)",
                                        "txt": "#000000",
                                        "txth": "#EFDBD4"
                                    },
                                    "propertiesSource": {
                                        "alpha-bg": "value",
                                        "alpha-bgh": "value",
                                        "alpha-brd": "value",
                                        "alpha-brdh": "value",
                                        "bg": "value",
                                        "bgh": "value",
                                        "boxShadowToggleOn-shd": "value",
                                        "brd": "value",
                                        "brdh": "value",
                                        "brw": "value",
                                        "fnt": "value",
                                        "rd": "value",
                                        "shd": "value",
                                        "txt": "value",
                                        "txth": "value"
                                    },
                                    "groups": {}
                                },
                                "componentClassName": "wysiwyg.viewer.components.SiteButton",
                                "pageId": "",
                                "compId": "",
                                "styleType": "custom",
                                "skin": "wysiwyg.viewer.skins.button.BasicButton"
                            },
                            "connections": {
                                "type": "ConnectionList",
                                "items": [
                                    {
                                        "type": "WixCodeConnectionItem",
                                        "role": "button11"
                                    }
                                ]
                            }
                        },
                        {
                            "type": "Component",
                            "layout": {
                                "width": 285,
                                "height": 22,
                                "x": 103,
                                "y": 196,
                                "scale": 1,
                                "rotationInDegrees": 0,
                                "fixedPosition": false
                            },
                            "componentType": "wysiwyg.viewer.components.WRichText",
                            "data": {
                                "type": "StyledText",
                                "metaData": {
                                    "isPreset": false,
                                    "schemaVersion": "1.0",
                                    "isHidden": false
                                },
                                "text": "<h2 class=\"font_2\" style=\"font-size:20px; line-height:1em; text-align:center\"><span style=\"font-size:20px\"><span class=\"color_2\"><span style=\"font-family:helvetica-w01-light,helvetica-w02-light,sans-serif; letter-spacing:0.03em\">Dresses</span><span style=\"font-family:helvetica-w01-light,helvetica-w02-light,sans-serif; letter-spacing:0.03em\">&nbsp;from 19$</span></span></span></h2>",
                                "stylesMapId": "CK_EDITOR_PARAGRAPH_STYLES",
                                "linkList": []
                            },
                            "props": {
                                "type": "WRichTextProperties",
                                "metaData": {
                                    "schemaVersion": "1.0"
                                },
                                "brightness": 1,
                                "packed": true
                            },
                            "mobileHints": {
                                "type": "MobileHints",
                                "author": "studio",
                                "recommendedScale": 1.2528584,
                                "recommendedWidth": 206,
                                "recommendedHeight": 56
                            },
                            "style": "txtNew",
                            "connections": {
                                "type": "ConnectionList",
                                "items": [
                                    {
                                        "type": "WixCodeConnectionItem",
                                        "role": "text27"
                                    }
                                ]
                            }
                        },
                        {
                            "type": "Component",
                            "layout": {
                                "width": 425,
                                "height": 65,
                                "x": 33,
                                "y": 77,
                                "scale": 1,
                                "rotationInDegrees": 0,
                                "fixedPosition": false
                            },
                            "componentType": "wysiwyg.viewer.components.WRichText",
                            "data": {
                                "type": "StyledText",
                                "metaData": {
                                    "isPreset": false,
                                    "schemaVersion": "1.0",
                                    "isHidden": false
                                },
                                "text": "<h2 class=\"font_2\" style=\"font-size: 59px; line-height: 1em; text-align: center;\"><span style=\"font-family:poppins-semibold,poppins,sans-serif;\"><span style=\"font-size:59px;\"><span style=\"letter-spacing:0.03em\"><span class=\"color_2\">60% OFF</span></span></span></span></h2>",
                                "stylesMapId": "CK_EDITOR_PARAGRAPH_STYLES",
                                "linkList": []
                            },
                            "props": {
                                "type": "WRichTextProperties",
                                "metaData": {
                                    "schemaVersion": "1.0"
                                },
                                "brightness": 1,
                                "packed": true
                            },
                            "style": "txtNew",
                            "connections": {
                                "type": "ConnectionList",
                                "items": [
                                    {
                                        "type": "WixCodeConnectionItem",
                                        "role": "text28"
                                    }
                                ]
                            }
                        },
                        {
                            "type": "Component",
                            "layout": {
                                "width": 425,
                                "height": 33,
                                "x": 33,
                                "y": 142,
                                "scale": 1,
                                "rotationInDegrees": 0,
                                "fixedPosition": false
                            },
                            "componentType": "wysiwyg.viewer.components.WRichText",
                            "data": {
                                "type": "StyledText",
                                "metaData": {
                                    "isPreset": false,
                                    "schemaVersion": "1.0",
                                    "isHidden": false
                                },
                                "text": "<h2 class=\"font_2\" style=\"font-size: 30px; line-height: 1em; text-align: center;\"><span style=\"font-size:30px;\"><span style=\"font-family:poppins-semibold,poppins,sans-serif\"><span style=\"letter-spacing:0.03em\"><span class=\"color_2\">&amp; Free Shipping</span></span></span></span></h2>",
                                "stylesMapId": "CK_EDITOR_PARAGRAPH_STYLES",
                                "linkList": []
                            },
                            "props": {
                                "type": "WRichTextProperties",
                                "metaData": {
                                    "schemaVersion": "1.0"
                                },
                                "brightness": 1,
                                "packed": true
                            },
                            "style": "txtNew",
                            "connections": {
                                "type": "ConnectionList",
                                "items": [
                                    {
                                        "type": "WixCodeConnectionItem",
                                        "role": "text29"
                                    }
                                ]
                            }
                        },
                        {
                            "type": "Container",
                            "components": [],
                            "skin": "wysiwyg.viewer.skins.area.DefaultAreaSkin",
                            "layout": {
                                "width": 465,
                                "height": 435,
                                "x": 14,
                                "y": 12,
                                "scale": 1,
                                "rotationInDegrees": 0,
                                "fixedPosition": false
                            },
                            "componentType": "mobile.core.components.Container",
                            "style": {
                                "type": "TopLevelStyle",
                                "metaData": {
                                    "isPreset": false,
                                    "schemaVersion": "1.0",
                                    "isHidden": false
                                },
                                "style": {
                                    "properties": {
                                        "alpha-bg": "0",
                                        "alpha-brd": "1",
                                        "bg": "rgba(255,255,255,1)",
                                        "boxShadowToggleOn-shd": "false",
                                        "brd": "#324158",
                                        "brw": "4",
                                        "rd": "0px",
                                        "shd": "0px 1px 4px 0px rgba(0,0,0,0.6)"
                                    },
                                    "propertiesSource": {
                                        "alpha-bg": "value",
                                        "bg": "value",
                                        "brd": "value",
                                        "brw": "value",
                                        "rd": "value",
                                        "shd": "value"
                                    },
                                    "groups": {}
                                },
                                "componentClassName": "mobile.core.components.Container",
                                "pageId": "",
                                "compId": "",
                                "styleType": "custom",
                                "skin": "wysiwyg.viewer.skins.area.DefaultAreaSkin"
                            },
                            "connections": {
                                "type": "ConnectionList",
                                "items": [
                                    {
                                        "type": "WixCodeConnectionItem",
                                        "role": "box13"
                                    }
                                ]
                            }
                        }
                    ],
                    "skin": "wysiwyg.viewer.skins.area.DefaultAreaSkin",
                    "layout": {
                        "width": 489,
                        "height": 460,
                        "x": 624,
                        "y": 0,
                        "scale": 1,
                        "rotationInDegrees": 0,
                        "fixedPosition": false
                    },
                    "componentType": "mobile.core.components.Container",
                    "mobileHints": {
                        "type": "MobileHints",
                        "author": "studio",
                        "recommendedScale": 1,
                        "recommendedWidth": 280
                    },
                    "style": {
                        "type": "TopLevelStyle",
                        "metaData": {
                            "isPreset": false,
                            "schemaVersion": "1.0",
                            "isHidden": false
                        },
                        "style": {
                            "properties": {
                                "alpha-bg": "1",
                                "alpha-brd": "1",
                                "bg": "#EFDBD4",
                                "boxShadowToggleOn-shd": "false",
                                "brd": "#2F2E2E",
                                "brw": "0",
                                "rd": "0px",
                                "shd": "0px 1px 4px 0px rgba(0,0,0,0.6)"
                            },
                            "propertiesSource": {
                                "alpha-bg": "value",
                                "bg": "value",
                                "brd": "value",
                                "brw": "value",
                                "rd": "value",
                                "shd": "value"
                            },
                            "groups": {}
                        },
                        "componentClassName": "mobile.core.components.Container",
                        "pageId": "",
                        "compId": "",
                        "styleType": "custom",
                        "skin": "wysiwyg.viewer.skins.area.DefaultAreaSkin"
                    },
                    "connections": {
                        "type": "ConnectionList",
                        "items": [
                            {
                                "type": "WixCodeConnectionItem",
                                "role": "box12"
                            }
                        ]
                    }
                },
                {
                    "type": "Component",
                    "skin": "wysiwyg.viewer.skins.button.BasicButton",
                    "layout": {
                        "width": 207,
                        "height": 46,
                        "x": 778,
                        "y": 293,
                        "scale": 1,
                        "rotationInDegrees": 0,
                        "fixedPosition": false
                    },
                    "componentType": "wysiwyg.viewer.components.SiteButton",
                    "data": {
                        "type": "LinkableButton",
                        "metaData": {
                            "isPreset": false,
                            "schemaVersion": "1.0",
                            "isHidden": false
                        },
                        "label": "SHOP NOW",
                        "link": {
                            "type": "PageLink",
                            "pageId": "#jeu3g",
                            "metaData": {
                                "isPreset": false,
                                "schemaVersion": "1.0",
                                "isHidden": false
                            }
                        }
                    },
                    "props": {
                        "type": "ButtonProperties",
                        "metaData": {
                            "schemaVersion": "1.0"
                        },
                        "align": "center",
                        "margin": 0
                    },
                    "mobileHints": {
                        "type": "MobileHints",
                        "author": "studio",
                        "recommendedScale": 0.90702945,
                        "recommendedWidth": 135,
                        "recommendedHeight": 35
                    },
                    "style": {
                        "type": "TopLevelStyle",
                        "metaData": {
                            "isPreset": false,
                            "schemaVersion": "1.0",
                            "isHidden": false
                        },
                        "style": {
                            "properties": {
                                "alpha-bg": "1",
                                "alpha-bgh": "1",
                                "alpha-brd": "1",
                                "alpha-brdh": "1",
                                "bg": "color_15",
                                "bgh": "#000000",
                                "boxShadowToggleOn-shd": "false",
                                "brd": "#000000",
                                "brdh": "#2F2E2E",
                                "brw": "2",
                                "fnt": "normal normal normal 14px/1.4em poppins-semibold",
                                "rd": "0",
                                "shd": "0px 1px 4px 0px rgba(0,0,0,0.6)",
                                "txt": "#FFFFFF",
                                "txth": "#EFDBD4"
                            },
                            "propertiesSource": {
                                "alpha-bg": "value",
                                "alpha-bgh": "value",
                                "alpha-brd": "value",
                                "alpha-brdh": "value",
                                "bg": "theme",
                                "bgh": "value",
                                "boxShadowToggleOn-shd": "value",
                                "brd": "value",
                                "brdh": "value",
                                "brw": "value",
                                "fnt": "value",
                                "rd": "value",
                                "shd": "value",
                                "txt": "value",
                                "txth": "value"
                            },
                            "groups": {}
                        },
                        "componentClassName": "wysiwyg.viewer.components.SiteButton",
                        "pageId": "",
                        "compId": "",
                        "styleType": "custom",
                        "skin": "wysiwyg.viewer.skins.button.BasicButton"
                    },
                    "connections": {
                        "type": "ConnectionList",
                        "items": [
                            {
                                "type": "WixCodeConnectionItem",
                                "role": "button12"
                            }
                        ]
                    }
                }
            ],
            "skin": "wysiwyg.common.components.boxSlideShowSlide.viewer.skins.boxSlideShowSlideSkin",
            "layout": {
                "width": 1116,
                "height": 460,
                "x": 0,
                "y": 0,
                "scale": 1,
                "rotationInDegrees": 0,
                "fixedPosition": false
            },
            "componentType": "wysiwyg.viewer.components.BoxSlideShowSlide",
            "data": {
                "type": "BoxSlideShowSlide",
                "metaData": {
                    "isPreset": false,
                    "schemaVersion": "1.0",
                    "isHidden": false
                },
                "title": "Copy of Slide  1"
            },
            "mobileHints": {
                "type": "MobileHints",
                "author": "studio",
                "recommendedScale": 1,
                "recommendedWidth": 280
            },
            "design": {
                "type": "MediaContainerDesignData",
                "metaData": {
                    "isPreset": false,
                    "schemaVersion": "1.0",
                    "isHidden": false
                },
                "background": {
                    "type": "BackgroundMedia",
                    "metaData": {
                        "isPreset": false,
                        "schemaVersion": "1.0",
                        "isHidden": false
                    },
                    "mediaRef": {
                        "type": "Image",
                        "metaData": {
                            "isPreset": false,
                            "schemaVersion": "1.0",
                            "isHidden": false
                        },
                        "title": "Model_slide3.jpg",
                        "uri": "035244_21a6d9f2a5794a8bae2a2d5e3a78f9e5.jpg",
                        "description": "private/allMedia_picture",
                        "width": 3840,
                        "height": 2160,
                        "alt": "",
                        "artist": {
                            "id": "",
                            "name": ""
                        }
                    },
                    "color": "#FFFFFF",
                    "colorOpacity": 1,
                    "alignType": "center",
                    "fittingType": "fill",
                    "scrollType": "none",
                    "colorOverlay": "{color_15}",
                    "colorOverlayOpacity": 0.21
                }
            },
            "style": {
                "type": "TopLevelStyle",
                "metaData": {
                    "isPreset": false,
                    "schemaVersion": "1.0",
                    "isHidden": false
                },
                "style": {
                    "properties": {
                        "alpha-brd": "1",
                        "bg": "#001F2C",
                        "brd": "color_11",
                        "brw": "0",
                        "rd": "0px"
                    },
                    "propertiesSource": {
                        "bg": "value"
                    },
                    "groups": {}
                },
                "componentClassName": "wysiwyg.viewer.components.BoxSlideShowSlide",
                "pageId": "",
                "compId": "",
                "styleType": "custom",
                "skin": "wysiwyg.common.components.boxSlideShowSlide.viewer.skins.boxSlideShowSlideSkin"
            },
            "connections": {
                "type": "ConnectionList",
                "items": [
                    {
                        "type": "WixCodeConnectionItem",
                        "role": "slideshowSlide7"
                    }
                ]
            }
        },
        {
            "type": "Container",
            "components": [
                {
                    "type": "Container",
                    "components": [
                        {
                            "type": "Container",
                            "components": [],
                            "skin": "wysiwyg.viewer.skins.area.DefaultAreaSkin",
                            "layout": {
                                "width": 245,
                                "height": 24,
                                "x": 123,
                                "y": 196,
                                "scale": 1,
                                "rotationInDegrees": 0,
                                "fixedPosition": false
                            },
                            "componentType": "mobile.core.components.Container",
                            "mobileHints": {
                                "type": "MobileHints",
                                "author": "studio",
                                "recommendedScale": 1,
                                "recommendedWidth": 206,
                                "recommendedHeight": 28
                            },
                            "style": {
                                "type": "TopLevelStyle",
                                "metaData": {
                                    "isPreset": false,
                                    "schemaVersion": "1.0",
                                    "isHidden": false
                                },
                                "style": {
                                    "properties": {
                                        "alpha-bg": "1",
                                        "alpha-brd": "1",
                                        "bg": "#FF8C62",
                                        "boxShadowToggleOn-shd": "false",
                                        "brd": "#FFCBAA",
                                        "brw": "0",
                                        "rd": "0px",
                                        "shd": "0px 1px 4px 0px rgba(0,0,0,0.6)"
                                    },
                                    "propertiesSource": {
                                        "alpha-bg": "value",
                                        "alpha-brd": "value",
                                        "bg": "value",
                                        "boxShadowToggleOn-shd": "value",
                                        "brd": "value",
                                        "brw": "value",
                                        "rd": "value",
                                        "shd": "value"
                                    },
                                    "groups": {}
                                },
                                "componentClassName": "mobile.core.components.Container",
                                "pageId": "",
                                "compId": "",
                                "styleType": "custom",
                                "skin": "wysiwyg.viewer.skins.area.DefaultAreaSkin"
                            },
                            "connections": {
                                "type": "ConnectionList",
                                "items": [
                                    {
                                        "type": "WixCodeConnectionItem",
                                        "role": "box2"
                                    }
                                ]
                            }
                        },
                        {
                            "type": "Component",
                            "skin": "wysiwyg.viewer.skins.button.BasicButton",
                            "layout": {
                                "width": 207,
                                "height": 46,
                                "x": 147,
                                "y": 267,
                                "scale": 1,
                                "rotationInDegrees": 0,
                                "fixedPosition": false
                            },
                            "componentType": "wysiwyg.viewer.components.SiteButton",
                            "data": {
                                "type": "LinkableButton",
                                "metaData": {
                                    "isPreset": false,
                                    "schemaVersion": "1.0",
                                    "isHidden": false
                                },
                                "label": "SHOP NOW",
                                "link": {
                                    "type": "PageLink",
                                    "pageId": "#jeu3g",
                                    "metaData": {
                                        "isPreset": false,
                                        "schemaVersion": "1.0",
                                        "isHidden": false
                                    }
                                }
                            },
                            "props": {
                                "type": "ButtonProperties",
                                "metaData": {
                                    "schemaVersion": "1.0"
                                },
                                "align": "center",
                                "margin": 0
                            },
                            "mobileHints": {
                                "type": "MobileHints",
                                "author": "studio",
                                "recommendedScale": 0.90702945,
                                "recommendedWidth": 135,
                                "recommendedHeight": 35
                            },
                            "style": {
                                "type": "TopLevelStyle",
                                "metaData": {
                                    "isPreset": false,
                                    "schemaVersion": "1.0",
                                    "isHidden": false
                                },
                                "style": {
                                    "properties": {
                                        "alpha-bg": "1",
                                        "alpha-bgh": "1",
                                        "alpha-brd": "1",
                                        "alpha-brdh": "1",
                                        "alpha-txt": "1",
                                        "alpha-txth": "1",
                                        "bg": "#FF8C62",
                                        "bgh": "#000000",
                                        "boxShadowToggleOn-shd": "false",
                                        "brd": "#323232",
                                        "brdh": "#323232",
                                        "brw": "0px",
                                        "fnt": "normal normal 700 19px/1.4em helvetica-w01-light",
                                        "rd": "0px",
                                        "shd": "0px 1px 4px 0px rgba(0,0,0,0.6)",
                                        "txt": "color_15",
                                        "txth": "#FFFFFF"
                                    },
                                    "propertiesSource": {
                                        "alpha-bgh": "value",
                                        "bg": "value",
                                        "bgh": "value",
                                        "brd": "value",
                                        "brdh": "value",
                                        "brw": "value",
                                        "fnt": "value",
                                        "rd": "value",
                                        "shd": "value",
                                        "txt": "theme",
                                        "txth": "value"
                                    },
                                    "groups": {}
                                },
                                "componentClassName": "wysiwyg.viewer.components.SiteButton",
                                "pageId": "",
                                "compId": "",
                                "styleType": "custom",
                                "skin": "wysiwyg.viewer.skins.button.BasicButton"
                            },
                            "connections": {
                                "type": "ConnectionList",
                                "items": [
                                    {
                                        "type": "WixCodeConnectionItem",
                                        "role": "button5"
                                    }
                                ]
                            }
                        },
                        {
                            "type": "Component",
                            "layout": {
                                "width": 285,
                                "height": 22,
                                "x": 108,
                                "y": 197,
                                "scale": 1,
                                "rotationInDegrees": 0,
                                "fixedPosition": false
                            },
                            "componentType": "wysiwyg.viewer.components.WRichText",
                            "data": {
                                "type": "StyledText",
                                "metaData": {
                                    "isPreset": false,
                                    "schemaVersion": "1.0",
                                    "isHidden": false
                                },
                                "text": "<h2 class=\"font_2\" style=\"font-size:20px; line-height:1em; text-align:center\"><span style=\"font-size:20px\"><span class=\"color_2\"><span style=\"font-family:helvetica-w01-light,helvetica-w02-light,sans-serif; letter-spacing:0.03em\">Dresses</span><span style=\"font-family:helvetica-w01-light,helvetica-w02-light,sans-serif; letter-spacing:0.03em\">&nbsp;from 19$</span></span></span></h2>",
                                "stylesMapId": "CK_EDITOR_PARAGRAPH_STYLES",
                                "linkList": []
                            },
                            "props": {
                                "type": "WRichTextProperties",
                                "metaData": {
                                    "schemaVersion": "1.0"
                                },
                                "brightness": 1,
                                "packed": true
                            },
                            "mobileHints": {
                                "type": "MobileHints",
                                "author": "studio",
                                "recommendedScale": 1.2528584,
                                "recommendedWidth": 206,
                                "recommendedHeight": 56
                            },
                            "style": "txtNew",
                            "connections": {
                                "type": "ConnectionList",
                                "items": [
                                    {
                                        "type": "WixCodeConnectionItem",
                                        "role": "text18"
                                    }
                                ]
                            }
                        },
                        {
                            "type": "Component",
                            "layout": {
                                "width": 425,
                                "height": 65,
                                "x": 33,
                                "y": 77,
                                "scale": 1,
                                "rotationInDegrees": 0,
                                "fixedPosition": false
                            },
                            "componentType": "wysiwyg.viewer.components.WRichText",
                            "data": {
                                "type": "StyledText",
                                "metaData": {
                                    "isPreset": false,
                                    "schemaVersion": "1.0",
                                    "isHidden": false
                                },
                                "text": "<h2 class=\"font_2\" style=\"font-size: 59px; line-height: 1em; text-align: center;\"><span style=\"font-family:poppins-semibold,poppins,sans-serif;\"><span style=\"font-size:59px;\"><span style=\"letter-spacing:0.03em\"><span class=\"color_2\">60% OFF</span></span></span></span></h2>",
                                "stylesMapId": "CK_EDITOR_PARAGRAPH_STYLES",
                                "linkList": []
                            },
                            "props": {
                                "type": "WRichTextProperties",
                                "metaData": {
                                    "schemaVersion": "1.0"
                                },
                                "brightness": 1,
                                "packed": true
                            },
                            "style": "txtNew",
                            "connections": {
                                "type": "ConnectionList",
                                "items": [
                                    {
                                        "type": "WixCodeConnectionItem",
                                        "role": "text22"
                                    }
                                ]
                            }
                        },
                        {
                            "type": "Component",
                            "layout": {
                                "width": 425,
                                "height": 33,
                                "x": 33,
                                "y": 142,
                                "scale": 1,
                                "rotationInDegrees": 0,
                                "fixedPosition": false
                            },
                            "componentType": "wysiwyg.viewer.components.WRichText",
                            "data": {
                                "type": "StyledText",
                                "metaData": {
                                    "isPreset": false,
                                    "schemaVersion": "1.0",
                                    "isHidden": false
                                },
                                "text": "<h2 class=\"font_2\" style=\"font-size: 30px; line-height: 1em; text-align: center;\"><span style=\"font-size:30px;\"><span style=\"font-family:poppins-semibold,poppins,sans-serif\"><span style=\"letter-spacing:0.03em\"><span class=\"color_2\">&amp; Free Shipping</span></span></span></span></h2>",
                                "stylesMapId": "CK_EDITOR_PARAGRAPH_STYLES",
                                "linkList": []
                            },
                            "props": {
                                "type": "WRichTextProperties",
                                "metaData": {
                                    "schemaVersion": "1.0"
                                },
                                "brightness": 1,
                                "packed": true
                            },
                            "style": "txtNew",
                            "connections": {
                                "type": "ConnectionList",
                                "items": [
                                    {
                                        "type": "WixCodeConnectionItem",
                                        "role": "text23"
                                    }
                                ]
                            }
                        },
                        {
                            "type": "Container",
                            "components": [],
                            "skin": "wysiwyg.viewer.skins.area.DefaultAreaSkin",
                            "layout": {
                                "width": 465,
                                "height": 435,
                                "x": 18,
                                "y": 12.5,
                                "scale": 1,
                                "rotationInDegrees": 0,
                                "fixedPosition": false
                            },
                            "componentType": "mobile.core.components.Container",
                            "style": {
                                "type": "TopLevelStyle",
                                "metaData": {
                                    "isPreset": false,
                                    "schemaVersion": "1.0",
                                    "isHidden": false
                                },
                                "style": {
                                    "properties": {
                                        "alpha-bg": "0",
                                        "alpha-brd": "1",
                                        "bg": "rgba(255,255,255,1)",
                                        "boxShadowToggleOn-shd": "false",
                                        "brd": "#324158",
                                        "brw": "4",
                                        "rd": "0px",
                                        "shd": "0px 1px 4px 0px rgba(0,0,0,0.6)"
                                    },
                                    "propertiesSource": {
                                        "alpha-bg": "value",
                                        "bg": "value",
                                        "brd": "value",
                                        "brw": "value",
                                        "rd": "value",
                                        "shd": "value"
                                    },
                                    "groups": {}
                                },
                                "componentClassName": "mobile.core.components.Container",
                                "pageId": "",
                                "compId": "",
                                "styleType": "custom",
                                "skin": "wysiwyg.viewer.skins.area.DefaultAreaSkin"
                            },
                            "connections": {
                                "type": "ConnectionList",
                                "items": [
                                    {
                                        "type": "WixCodeConnectionItem",
                                        "role": "box7"
                                    }
                                ]
                            }
                        }
                    ],
                    "skin": "wysiwyg.viewer.skins.area.DefaultAreaSkin",
                    "layout": {
                        "width": 489,
                        "height": 460,
                        "x": 0,
                        "y": 0,
                        "scale": 1,
                        "rotationInDegrees": 0,
                        "fixedPosition": false
                    },
                    "componentType": "mobile.core.components.Container",
                    "mobileHints": {
                        "type": "MobileHints",
                        "author": "studio",
                        "recommendedScale": 1,
                        "recommendedWidth": 280
                    },
                    "style": {
                        "type": "TopLevelStyle",
                        "metaData": {
                            "isPreset": false,
                            "schemaVersion": "1.0",
                            "isHidden": false
                        },
                        "style": {
                            "properties": {
                                "alpha-bg": "1",
                                "alpha-brd": "1",
                                "bg": "#FFCBAA",
                                "boxShadowToggleOn-shd": "false",
                                "brd": "#FFCBAA",
                                "brw": "0",
                                "rd": "0px",
                                "shd": "0px 1px 4px 0px rgba(0,0,0,0.6)"
                            },
                            "propertiesSource": {
                                "alpha-bg": "value",
                                "alpha-brd": "value",
                                "bg": "value",
                                "boxShadowToggleOn-shd": "value",
                                "brd": "value",
                                "brw": "value",
                                "rd": "value",
                                "shd": "value"
                            },
                            "groups": {}
                        },
                        "componentClassName": "mobile.core.components.Container",
                        "pageId": "",
                        "compId": "",
                        "styleType": "custom",
                        "skin": "wysiwyg.viewer.skins.area.DefaultAreaSkin"
                    },
                    "connections": {
                        "type": "ConnectionList",
                        "items": [
                            {
                                "type": "WixCodeConnectionItem",
                                "role": "box1"
                            }
                        ]
                    }
                }
            ],
            "skin": "wysiwyg.common.components.boxSlideShowSlide.viewer.skins.boxSlideShowSlideSkin",
            "layout": {
                "width": 1116,
                "height": 460,
                "x": 0,
                "y": 0,
                "scale": 1,
                "rotationInDegrees": 0,
                "fixedPosition": false
            },
            "componentType": "wysiwyg.viewer.components.BoxSlideShowSlide",
            "data": {
                "type": "BoxSlideShowSlide",
                "metaData": {
                    "isPreset": false,
                    "schemaVersion": "1.0",
                    "isHidden": false
                },
                "title": "Slide  1"
            },
            "mobileHints": {
                "type": "MobileHints",
                "author": "studio",
                "recommendedScale": 1,
                "recommendedWidth": 280
            },
            "design": {
                "type": "MediaContainerDesignData",
                "metaData": {
                    "isPreset": false,
                    "schemaVersion": "1.0",
                    "isHidden": false
                },
                "background": {
                    "type": "BackgroundMedia",
                    "metaData": {
                        "isPreset": false,
                        "schemaVersion": "1.0",
                        "isHidden": false
                    },
                    "mediaRef": {
                        "type": "Image",
                        "metaData": {
                            "isPreset": false,
                            "schemaVersion": "1.0",
                            "isHidden": false
                        },
                        "title": "model sitting modeling shoes",
                        "uri": "190b13dd5012422582049ff456d0cde6.jpg",
                        "description": "public/491df47b-5958-4dc7-9029-37f428755d45/08616385-e843-431b-bd64-b8b845ff47bb",
                        "width": 3920,
                        "height": 2800,
                        "alt": "",
                        "artist": {
                            "id": "",
                            "name": ""
                        }
                    },
                    "color": "#FFFFFF",
                    "colorOpacity": 1,
                    "alignType": "top",
                    "fittingType": "fill",
                    "scrollType": "none",
                    "colorOverlay": "",
                    "colorOverlayOpacity": 0,
                    "showOverlayForMediaType": "WixVideo"
                },
                "charas": "design-je5cd25b",
                "dataChangeBehaviors": []
            },
            "style": {
                "type": "TopLevelStyle",
                "metaData": {
                    "isPreset": false,
                    "schemaVersion": "1.0",
                    "isHidden": false
                },
                "style": {
                    "properties": {
                        "alpha-brd": "1",
                        "bg": "#001F2C",
                        "brd": "color_11",
                        "brw": "0",
                        "rd": "0px"
                    },
                    "propertiesSource": {
                        "bg": "value"
                    },
                    "groups": {}
                },
                "componentClassName": "wysiwyg.viewer.components.BoxSlideShowSlide",
                "pageId": "",
                "compId": "",
                "styleType": "custom",
                "skin": "wysiwyg.common.components.boxSlideShowSlide.viewer.skins.boxSlideShowSlideSkin"
            },
            "connections": {
                "type": "ConnectionList",
                "items": [
                    {
                        "type": "WixCodeConnectionItem",
                        "role": "slideshowSlide4"
                    }
                ]
            }
        }
    ],
    "skin": "wysiwyg.common.components.boxSlideShow.viewer.skins.longArrowsLargeSelectedCircleSkin",
    "layout": {
        "width": 1116,
        "height": 460,
        "x": -33,
        "y": 9,
        "scale": 1,
        "rotationInDegrees": 0,
        "fixedPosition": false
    },
    "componentType": "wysiwyg.viewer.components.BoxSlideShow",
    "props": {
        "type": "BoxSlideShowProperties",
        "metaData": {
            "schemaVersion": "1.0",
            "autoGenerated": false
        },
        "transition": "SlideHorizontal",
        "autoPlayInterval": 3,
        "autoPlay": false,
        "transDuration": 1,
        "pauseAutoPlayOnMouseOver": true,
        "direction": "RTL",
        "shouldHideOverflowContent": true,
        "flexibleBoxHeight": false,
        "showNavigationButton": false,
        "showNavigationDots": false,
        "navigationButtonSize": 20,
        "navigationButtonMargin": 54,
        "navigationDotsSize": 8,
        "navigationDotsMargin": 31,
        "navigationDotsGap": 15,
        "navigationDotsAlignment": "center"
    },
    "mobileHints": {
        "type": "MobileHints",
        "author": "studio",
        "recommendedScale": 1,
        "recommendedWidth": 280
    },
    "style": {
        "type": "TopLevelStyle",
        "metaData": {
            "isPreset": false,
            "schemaVersion": "1.0",
            "isHidden": false
        },
        "style": {
            "properties": {
                "alpha-arrowColor": "1",
                "alpha-brd": "1",
                "alpha-dotsColor": "1",
                "arrowColor": "#000000",
                "boxShadowToggleOn-shd": "true",
                "brd": "#FFFFFF",
                "brw": "0",
                "dotsColor": "#000000",
                "shd": "0 0 0 rgba(0, 0, 0, 0.6)"
            },
            "propertiesSource": {
                "alpha-arrowColor": "value",
                "alpha-brd": "value",
                "alpha-dotsColor": "value",
                "arrowColor": "value",
                "boxShadowToggleOn-shd": "value",
                "brd": "value",
                "brw": "value",
                "dotsColor": "value",
                "shd": "value"
            },
            "groups": {}
        },
        "componentClassName": "wysiwyg.viewer.components.BoxSlideShow",
        "pageId": "",
        "compId": "",
        "styleType": "custom",
        "skin": "wysiwyg.common.components.boxSlideShow.viewer.skins.longArrowsLargeSelectedCircleSkin"
    },
    "connections": {
        "type": "ConnectionList",
        "items": [
            {
                "type": "WixCodeConnectionItem",
                "role": "slideshow2"
            }
        ]
    },
    "activeModes": {}
}

module.exports = function () {
    let app;

    async function editorReady(_editorSDK, _appDefinitionId, options) {
        console.log('editorReady editorrr READDDyyyy');
        const pageRef = await _editorSDK.pages.getCurrent();
        app = new App(_editorSDK, _appDefinitionId, pageRef);
        if (options.firstInstall) {
            app.install();
        }
        // const container = await app.addAndConnect(BOX_SLIDE_SHOW, pageRef, 'mainContainer');
    }

    function onEvent(event) {
        console.log(event);
        if (app.eventHandlers[event.eventType]) {
            app.eventHandlers[event.eventType].call(app, event.eventPayload);
        }
    }

    function getAppManifest() {
        return {
            controllersStageData: {
                controller1: {
                    default: {
                        visibility: 'DEV',
                        connections: {
                            "mainContainer": {
                                gfpp: {
                                    desktop: {
                                        mainAction1: {
                                            actionId: 'SETTINGS', label: 'A/B Settings'},
                                        mainAction2: 'HIDE',
                                        iconButtons: {
                                            settings: "HIDE",
                                            design: "HIDE",
                                            crop: "HIDE",
                                            filters: "HIDE",
                                            animation: "HIDE",
                                            link: "HIDE",
                                            stretch: "HIDE",
                                            layout: "HIDE",
                                            upgrade: "HIDE",
                                            connect: "HIDE",
                                            pinMode: "HIDE",
                                            hide: "HIDE",
                                        }
                                    },
                                    mobile: {
                                        mainAction1: {
                                            actionId: 'SETTINGS', label: 'A/B Settings'},
                                        mainAction2: 'HIDE',
                                        iconButtons: {
                                            settings: "HIDE",
                                            design: "HIDE",
                                            crop: "HIDE",
                                            filters: "HIDE",
                                            animation: "HIDE",
                                            link: "HIDE",
                                            stretch: "HIDE",
                                            layout: "HIDE",
                                            upgrade: "HIDE",
                                            connect: "HIDE",
                                            pinMode: "HIDE",
                                            hide: "HIDE",
                                        }
                                    },
                                }
                            }
                        },
                        mainAction: {label: 'Configure A/B Test'}
                    }
                }
            }
        }
    }

    class App {
        constructor(editorSDK, appDefinitionId, pageRef) {
            this.editorSDK = editorSDK;
            this.appDefinitionId = appDefinitionId;
            this.pageRef = pageRef;
            this.components = {};
            this.eventHandlers = {
                "componentDeleted": this.onComponentDeleted,
                "controllerAdded": this.onControllerAdded,
                "controllerSettingsButtonClicked": this.onControllerSettingsButtonClicked,
                "componentGfppClicked": this.componentGfppClicked

            }
        }

        async connect(controllerRef, componentRef, role) {
            this.editorSDK.controllers.connect('token', {
                controllerRef,
                connectToRef: componentRef,
                role: role,
                isPrimary: true
            });
        }

        async addComponent(compType, data) {
            let compData = data
            return this.editorSDK.components.add('token', {
                componentDefinition: {
                    componentType: compType,
                    data: Object.assign(compData, {
                        applicationId: this.appDefinitionId,
                    })
                },
                pageRef: this.pageRef
            });
        }

        async add(params) {
            return this.editorSDK.components.add('token', params);
        }

        async addConnectedComponent(componentType, role, data = {}) {
            const compRef = await this.addComponent(componentType, data);
            const controllerRef = await this.getController();
            await this.connect(controllerRef, compRef, role);
            return compRef;
        }

        async addAndConnect(componentDefinition, container, role) {
            const compRef = await this.add({componentDefinition, pageRef: container});
            const controllerRef = await this.getController();
            await this.connect(controllerRef, compRef, role);
            return compRef;
        }

        async install() {
            await this.addController();
            const container = await this.addAndConnect(BOX_SLIDE_SHOW, this.pageRef, 'mainContainer');
            const slides = await this.editorSDK.components.getChildren('fff', {
                componentRef: container,
                recursive: false
            });
            const controllerRef = await this.getController();
            for (let i=0; i< slides.length; i++) {
                const children = await this.editorSDK.components.getChildren('fff', {
                    componentRef: slides[i],
                    recursive: true
                });
                for (let j=0; j< children.length; j++) {
                    const compType = await this.editorSDK.components.getType('sdfsdf', {componentRef: children[j]})
                    const typeSplit = compType.split('.');
                    await this.connect(controllerRef, children[j], typeSplit[typeSplit.length-1]+i);
                }
            }
            await this.editorSDK.tpa.add.application('agaregg', {appDefinitionId: '1516e29e-c67c-5630-a270-ce1dda0e9826'})
        }

        async addController() {
            return this.editorSDK.components.add('token', {
                componentDefinition: {
                    componentType: 'platform.components.AppController',
                    data: {
                        applicationId: this.appDefinitionId,
                        controllerType: 'controller1',
                        name: 'controller1',
                        settings: JSON.stringify({percentage: 50, measure:'clickOnButton'})
                    }
                },
                pageRef: this.pageRef
            });
        }

        async removeAllConnectedComponents() {
            const controllerRef = await this.getController();
            const connectedComponents = await this.editorSDK.controllers.listConnectedComponents(null, {controllerRef});
            connectedComponents.forEach(componentRef => {
                this.editorSDK.components.remove(null, {componentRef});
            });
        }

        async removeController() {
            const controllerRef = await this.getController();
            this.editorSDK.components.remove(null, {componentRef: controllerRef});
        }

        async onComponentDeleted() {
            await this.removeAllConnectedComponents();
            await this.removeController();
            await this.removeTPAWidget();
        }

        async onControllerAdded() {

        }

        async removeTPAWidget() {
            const componentsRefs = await this.editorSDK.components.getAllComponents();
            const componentsData = await Promise.all(componentsRefs.map(compRef => this.editorSDK.components.data.get(null, {componentRef: compRef})));
            const components = componentsData.map((comp, index) => Object.assign({}, comp, {componentRef: componentsRefs[index]}));
            const widget = await components.find(c => c.applicationId === "1336");
            if (!widget) return;
            this.editorSDK.components.remove(null, {componentRef: widget.componentRef});
        }

        async onControllerSettingsButtonClicked({controllerRef}) {
            const {settings} = await this.editorSDK.components.data.get('token', {componentRef: controllerRef});
            this.editorSDK.editor.openComponentPanel(null, {
                title: "MY MODAL",
                componentRef: controllerRef,
                initialData: {a: 1, settings, controllerRef},
                width: "20%",
                height: "70%",
                url: "modal.html"
            })
        }

        async getController() {
            const componentsRefs = await this.editorSDK.components.getAllComponents();
            const componentsData = await Promise.all(componentsRefs.map(compRef => this.editorSDK.components.data.get(null, {componentRef: compRef})));
            const components = componentsData.map((comp, index) => Object.assign({}, comp, {componentRef: componentsRefs[index]}));
            const controller = components.find(c => c.type === "AppController");
            return controller.componentRef;
        }

        async getComponents() {
            const controllerRef = await this.getController();
            const connectedComponents = await this.editorSDK.controllers.getControllerConnections(null, {controllerRef});
            const connectedComponentsRefs = connectedComponents.map(c => c.componentRef);
            const componentsData = await Promise.all(connectedComponentsRefs.map(compRef => this.editorSDK.components.data.get(null, {componentRef: compRef})));
            const components = connectedComponents.map((comp, index) => Object.assign({}, comp, componentsData[index]));
            return components;
        }

        async getComponentByRole(role) {
            const components = await this.getComponents();
            return components.find(comp => comp.connection.role === role);
        }

        async updateConnection(componentRef, role, connectionConfig) {
            console.log(await this.getController());
            this.editorSDK.controllers.connect('token', {
                controllerRef: await this.getController(),
                connectToRef: componentRef,
                role: role,
                connectionConfig,
                isPrimary: true
            });
        }

        async printComponents() {
            this.editorSDK.components.get()
        }

        async componentGfppClicked({componentRef}) {
            const controllerRef = await this.getController();
            const {settings} = await this.editorSDK.components.data.get('token', {componentRef: controllerRef});
            this.editorSDK.editor.openComponentPanel(null, {
                title: "MY MODAL",
                componentRef,
                initialData: {a: 1, settings, controllerRef},
                width: "20%",
                height: '400px',
                url: "modal.html"
            })
        }
     }

    return {
        editorReady,
        onEvent,
        getAppManifest
    }
}();


